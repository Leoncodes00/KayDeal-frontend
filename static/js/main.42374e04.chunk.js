(this.webpackJsonpkaydeal=this.webpackJsonpkaydeal||[]).push([[0],{19:function(e,t,a){},23:function(e,t,a){e.exports=a(39)},28:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),l=a.n(s),i=(a(28),a(1)),c=a(2),o=a(4),u=a(3),m=a(5),h=(a(29),a(30),a(7)),d=a(11),p=(a(31),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setUpMessageSeller=function(e){a.props.history.push("/message-seller"),a.props.getUserId(e)},a.setUpEditItem=function(e){a.props.history.push("/edit-item"),a.props.itemIdForEdit(e)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card"},r.a.createElement("a",{href:this.props.item.image,target:"_blank",alt:"Image Link"},"Image Link"),r.a.createElement("div",{className:"card-container"},r.a.createElement("h4",null,r.a.createElement("b",null,"Name: ",this.props.item.name)),r.a.createElement("p",null,"Price: ",this.props.item.price),localStorage.getItem("userId")===this.props.item.user_id.toString()?r.a.createElement("button",{onClick:function(){return e.setUpEditItem(e.props.item.id)}},"Edit item"):r.a.createElement("button",{onClick:function(){return e.setUpMessageSeller(e.props.item.user_id)}},"Message seller")))}}]),t}(r.a.Component)),g=Object(d.e)(p),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).renderItems=function(){return a.props.items.map((function(e){return r.a.createElement(g,{item:e,itemIdForEdit:a.props.itemIdForEdit,getUserId:a.props.getUserId})}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderItems())}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleImg=function(e){return a.setState({imgLink:e.target.value})},a.handleName=function(e){return a.setState({name:e.target.value},(function(){return console.log(a.state.name)}))},a.handlePrice=function(e){return a.setState({price:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),fetch("http://localhost:3000/items",{headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",body:JSON.stringify({user_id:localStorage.getItem("userId"),buyer_id:null,image:a.state.imgLink,name:a.state.name,price:a.state.price})})},a.state={imgLink:"",name:"",price:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-style-6"},r.a.createElement("h1",null,"Sell Item"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Image link:",r.a.createElement("input",{onChange:this.handleImg,type:"text",value:this.state.imgLink})),r.a.createElement("label",null,"Name:",r.a.createElement("input",{onChange:this.handleName,value:this.state.name,type:"text"})),r.a.createElement("label",null,"Price:",r.a.createElement("input",{onChange:this.handlePrice,value:this.state.price,type:"text"})),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component),b=(a(37),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleUsername=function(e){return a.setState({username:e.target.value})},a.handlePassword=function(e){return a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),fetch("http://localhost:3000/users").then((function(e){return e.json()})).then((function(e){e.map((function(e){return e.name===a.state.username&&e.password===a.state.password?a.props.setLoggedIn(e):console.log("blah")}))}))},a.state={username:"",password:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"login-box"},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"textbox"},r.a.createElement("i",{className:"fas fa-user"}),r.a.createElement("input",{value:this.state.username,onChange:this.handleUsername,type:"text",placeholder:"Username"})),r.a.createElement("div",{className:"textbox"},r.a.createElement("i",{className:"fas fa-lock"}),r.a.createElement("input",{value:this.state.password,onChange:this.handlePassword,type:"password",placeholder:"Password"})),r.a.createElement("input",{type:"submit",className:"btn",value:"Sign in"}),r.a.createElement("input",{onClick:function(){return e.props.history.push("/sign-up")},type:"button",className:"btn",value:"Sign up"}))))}}]),t}(n.Component)),v=Object(d.e)(b),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleUsername=function(e){return a.setState({username:e.target.value})},a.handleEmail=function(e){return a.setState({email:e.target.value})},a.handlePassword=function(e){return a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),fetch("http://localhost:3000/users",{headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",body:JSON.stringify({name:a.state.username,password:a.state.password,email:a.state.email})}).then((function(e){return e.json().then((function(e){a.props.setLoggedIn(e)}))}))},a.state={username:"",email:"",password:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"login-box"},r.a.createElement("h1",null,"Sign up"),r.a.createElement("div",{className:"textbox"},r.a.createElement("i",{className:"fas fa-user"}),r.a.createElement("input",{onChange:this.handleUsername,value:this.state.username,type:"text",placeholder:"Username"})),r.a.createElement("div",{className:"textbox"},r.a.createElement("i",{className:"fas fa-envelope-square"}),r.a.createElement("input",{onChange:this.handleEmail,value:this.state.email,type:"text",placeholder:"Email"})),r.a.createElement("div",{className:"textbox"},r.a.createElement("i",{className:"fas fa-lock"}),r.a.createElement("input",{onChange:this.handlePassword,value:this.state.password,type:"password",placeholder:"Password"})),r.a.createElement("input",{type:"submit",className:"btn",value:"Sign up"}))))}}]),t}(n.Component),S=Object(d.e)(I),y=(a(38),function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"user-info-container"},r.a.createElement("p",null,"Username: ",this.props.user.name),r.a.createElement("p",null,"Email: ",this.props.user.email))}}]),t}(r.a.Component)),j=Object(d.e)(y),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getBuyerId=function(){a.props.getUserSeller(a.props.sellerId),a.props.history.push("/message-buyer")},a.deleteMessage=function(){fetch("http://localhost:3000/messages/".concat(a.props.id),{method:"DELETE"})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"user-info-container"},r.a.createElement("p",null,this.props.message),r.a.createElement("button",{onClick:function(){return e.getBuyerId()}},"Reply"),r.a.createElement("button",{onClick:function(){return e.deleteMessage()}},"Delete message"))}}]),t}(n.Component),N=Object(d.e)(O),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).renderUserData=function(){return r.a.createElement(j,{user:a.state.user,isLoggedIn:a.props.isLoggedIn})},a.renderMessages=function(){return a.state.messages.map((function(e){return r.a.createElement(N,{message:e.content,id:e.id,sellerId:e.buyer_id,getUserSeller:a.props.getUserSeller})}))},a.deleteUser=function(){fetch("http://localhost:3000/users/".concat(localStorage.getItem("userId")),{method:"DELETE"}).then(localStorage.clear()).then(window.location="/sign-in")},a.state={user:[],messages:[]},fetch("http://localhost:3000/users/".concat(a.props.userId)).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({user:e,messages:e.messages})})),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"grid-container"},r.a.createElement("header",{className:"header-dashboard"},"Account Information"),r.a.createElement("aside",{className:"sidenav"},r.a.createElement("ul",{className:"sidenav__list"},r.a.createElement("li",{onClick:function(){return e.props.history.push("/edit-user")},className:"sidenav__list-item"},"Edit account info"),r.a.createElement("li",{onClick:function(){return e.deleteUser()},className:"sidenav__list-item"},"Delete account"))),r.a.createElement("main",{className:"main-header"},r.a.createElement("div",{className:"main-header__heading"},"Hello ",localStorage.getItem("username"),r.a.createElement("div",{style:{marginTop:"10px"},className:"main-header__heading"},this.renderUserData()),r.a.createElement("div",{style:{marginTop:"60px"},className:"main-header__heading"},"List of messages"),r.a.createElement("div",{style:{marginTop:"10px"},className:"main-header__heading"},this.renderMessages()))),r.a.createElement("footer",{className:"footer"}))}}]),t}(n.Component),k=Object(d.e)(C),x=(a(19),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleName=function(e){a.setState({name:e.target.value})},a.handlePhone=function(e){a.setState({phone:e.target.value})},a.handleMessage=function(e){a.setState({message:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),console.log("bruh"),fetch("http://localhost:3000/messages",{headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",body:JSON.stringify({user_id:a.props.thisUserId,buyer_id:localStorage.getItem("userId"),content:"Name: ".concat(a.state.name," Phone#: ").concat(a.state.phone," Message: ").concat(a.state.message)})})},a.state={name:"",phone:"",message:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-style-6"},r.a.createElement("h1",null,"Contact Seller"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Name:",r.a.createElement("input",{onChange:this.handleName,type:"text",name:"name",value:this.state.name})," ",r.a.createElement("br",null)),r.a.createElement("label",null,"Phone Number:",r.a.createElement("input",{onChange:this.handlePhone,type:"text",name:"name",value:this.state.phone})," ",r.a.createElement("br",null)),r.a.createElement("label",null,"Message:",r.a.createElement("textarea",{onChange:this.handleMessage,type:"text",name:"name",value:this.state.message})," ",r.a.createElement("br",null)),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component)),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).deleteItem=function(){fetch("http://localhost:3000/items/".concat(a.props.info.id),{method:"DELETE"})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card"},r.a.createElement("a",{href:this.props.info.image,target:"_blank",alt:"Image Link"},"Image Link"),r.a.createElement("div",{className:"card-container"},r.a.createElement("h4",null,r.a.createElement("b",null,"Name: ",this.props.info.name)),r.a.createElement("p",null,"Price: ",this.props.info.price),localStorage.getItem("userId")===this.props.info.user_id.toString()?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.props.history.push("/edit-item")}},"Edit item"),r.a.createElement("button",{onClick:function(){return e.deleteItem()}},"Delete")):r.a.createElement("button",{onClick:function(){return e.setUpMessageSeller(e.props.info.user_id)}},"Message seller")))}}]),t}(r.a.Component),U=Object(d.e)(w),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).renderUser=function(){return a.state.user.map((function(e){return r.a.createElement("div",null,r.a.createElement(U,{info:e}))}))},a.state={user:[]},fetch("http://localhost:3000/users/".concat(localStorage.getItem("userId"))).then((function(e){return e.json()})).then((function(e){return a.setState({user:e.items})})),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderUser())}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).imgLinkHandler=function(e){e.preventDefault(),a.setState({image:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),console.log(a.props.itemId),fetch("http://localhost:3000/items/".concat(a.props.thisItemId),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PATCH",body:JSON.stringify({user_id:localStorage.getItem("userId"),buyer_id:null,image:a.state.image,name:a.state.name,price:a.state.price})})},a.itemNameHandler=function(e){return e.preventDefault(),a.setState({name:e.target.value},(function(){console.log(a.state.name)}))},a.priceHandler=function(e){return e.preventDefault(),a.setState({price:e.target.value},(function(){console.log(a.state.price)}))},a.state={image:"",name:"",price:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"form-style-6",onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Edit Item"),r.a.createElement("label",null,"Image Link:",r.a.createElement("input",{type:"text",onChange:this.imgLinkHandler,value:this.state.image})),r.a.createElement("br",null),r.a.createElement("label",null,"Item Name:",r.a.createElement("input",{type:"text",onChange:this.itemNameHandler,value:this.state.name})),r.a.createElement("br",null),r.a.createElement("label",null,"Price:",r.a.createElement("input",{type:"text",onChange:this.priceHandler,value:this.state.price})),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleName=function(e){a.setState({name:e.target.value})},a.handlePhone=function(e){a.setState({phone:e.target.value})},a.handleMessage=function(e){a.setState({message:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),console.log(a.props.thisBuyerId),fetch("http://localhost:3000/messages",{headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",body:JSON.stringify({user_id:a.props.thisBuyerId,buyer_id:localStorage.getItem("userId"),content:"Name: ".concat(a.state.name,", Phone #: ").concat(a.state.phone,", message: ").concat(a.state.message)})})},a.state={name:"",phone:"",message:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"form-style-6",onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Reply"),r.a.createElement("label",null,"Name:",r.a.createElement("input",{onChange:this.handleName,type:"text",name:"name",value:this.state.name})," ",r.a.createElement("br",null)),r.a.createElement("label",null,"Phone Number:",r.a.createElement("input",{onChange:this.handlePhone,type:"text",name:"name",value:this.state.phone})," ",r.a.createElement("br",null)),r.a.createElement("label",null,"Message:",r.a.createElement("textarea",{onChange:this.handleMessage,type:"text",name:"name",value:this.state.message})," ",r.a.createElement("br",null)),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleUsername=function(e){a.setState({username:e.target.value})},a.handleEmail=function(e){a.setState({email:e.target.value})},a.handlePassword=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),fetch("http://localhost:3000/users/".concat(localStorage.getItem("userId")),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PUT",body:JSON.stringify({name:a.state.username,email:a.state.email,password:a.state.password})})},a.state={username:"",email:"",password:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"form-style-6",onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Edit user information"),r.a.createElement("label",null,"Username:",r.a.createElement("input",{onChange:this.handleUsername,value:this.state.username,type:"text",name:"name"})),r.a.createElement("label",null,"Email:",r.a.createElement("input",{onChange:this.handleEmail,value:this.state.email,type:"text",name:"name"})),r.a.createElement("label",null,"Password:",r.a.createElement("input",{onChange:this.handlePassword,value:this.state.password,type:"password",name:"name"})),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setLoggedIn=function(e){window.location="/",a.setState({isLoggedIn:!a.state.isLoggedIn,userId:e.id,username:e.name},(function(){return a.setLocalStorage(e.id)}))},a.setLocalStorage=function(e){localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userId",e),localStorage.setItem("username",a.state.username)},a.getUserId=function(e){a.setState({thisUserId:e})},a.itemIdForEdit=function(e){a.setState({thisItemId:e})},a.getUserSeller=function(e){a.setState({thisBuyerId:e})},a.state={items:[],userData:[],isLoggedIn:!1,username:"",userId:"",thisUserId:"",thisItemId:"",thisBuyerId:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3000/items").then((function(e){return e.json()})).then((function(t){return e.setState({items:t})})),"true"===localStorage.getItem("isLoggedIn")&&this.setState({isLoggedIn:!0,userId:localStorage.getItem("userId")})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"header"},r.a.createElement(h.a,null,!0===this.state.isLoggedIn?r.a.createElement("nav",{className:"header-nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h3",null,"Kaydeal")),r.a.createElement(h.b,{to:"/settings"},r.a.createElement("i",{id:"settings-icon",className:"fas fa-cog"})),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/sell"},"Sell")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/your-items"},"Your Items")),r.a.createElement("li",null,r.a.createElement(h.b,{onClick:function(){return e.setState({isLoggedIn:!e.state.isLoggedIn},(function(){return localStorage.clear()}))},to:"/sign-in"},"Sign out")))):r.a.createElement("nav",{className:"header-nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h3",null,"Kaydeal")))),r.a.createElement(d.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(f,Object.assign({},t,{itemIdForEdit:e.itemIdForEdit,getUserId:e.getUserId,items:e.state.items}))}}),r.a.createElement(d.a,{exact:!0,path:"/sell",render:function(e){return r.a.createElement(E,e)}}),r.a.createElement(d.a,{exact:!0,path:"/your-items"}),r.a.createElement(d.a,{exact:!0,path:"/sign-in",render:function(t){return r.a.createElement(v,Object.assign({setLoggedIn:e.setLoggedIn},t))}}),r.a.createElement(d.a,{exact:!0,path:"/sign-up",render:function(t){return r.a.createElement(S,Object.assign({setLoggedIn:e.setLoggedIn},t))}}),r.a.createElement(d.a,{exact:!0,path:"/settings",render:function(t){return r.a.createElement(k,Object.assign({},t,{username:e.state.username,userId:e.state.userId,isLoggedIn:e.state.isLoggedIn,getUserSeller:e.getUserSeller}))}}),r.a.createElement(d.a,{exact:!0,path:"/message-seller",render:function(t){return r.a.createElement(x,Object.assign({},t,{thisUserId:e.state.thisUserId}))}}),r.a.createElement(d.a,{exact:!0,path:"/your-items",render:function(e){return r.a.createElement(L,e)}}),r.a.createElement(d.a,{exact:!0,path:"/edit-item",render:function(t){return r.a.createElement(P,Object.assign({},t,{thisItemId:e.state.thisItemId}))}}),r.a.createElement(d.a,{exact:!0,path:"/message-buyer",render:function(t){return r.a.createElement(_,Object.assign({},t,{thisBuyerId:e.state.thisBuyerId}))}}),r.a.createElement(d.a,{exact:!0,path:"/edit-user",render:function(e){return r.a.createElement(D,e)}}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.42374e04.chunk.js.map